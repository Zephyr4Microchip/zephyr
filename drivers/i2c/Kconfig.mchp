# Copyright (c) 2025 Microchip Technology Inc.
# SPDX-License-Identifier: Apache-2.0

config I2C_MCHP_SERCOM
	bool
	help
	  Common options for Microchip I2C SERCOM drivers.

config I2C_MCHP_SERCOM_G1
	bool
	default y
	depends on DT_HAS_MICROCHIP_SERCOM_G1_I2C_ENABLED
	select PINCTRL
	select I2C_MCHP_SERCOM
	help
	  Enable support for Microchip SERCOM I2C g1 driver.

if I2C_MCHP_SERCOM

config I2C_MCHP_INTERRUPT_DRIVEN
	bool "Interrupt support for Microchip I2C devices"
	depends on !I2C_MCHP_DMA_DRIVEN
	help
	  This enables INTERRUPT driven transactions for the I2C peripheral.
	  interrupt driven mode can be used in blocking & non blocking mode.

config I2C_MCHP_DMA_DRIVEN
	bool "DMA support for Microchip I2C devices"
	default y
	depends on I2C_CALLBACK
	depends on DMA
	help
	  This enables DMA driven transactions for the I2C peripheral.
	  DMA driven mode requires fewer interrupts to handle the
	  transaction and ensures that high speed modes are not delayed
	  by data reloading.

config I2C_MCHP_TARGET
	bool "Target device support for Microchip I2C devices"
	default y
	depends on I2C_TARGET
	help
	  This enables target device support for the I2C peripheral.

config I2C_MCHP_TARGET_MULTI_ADDR
	bool "Multi-address target support for Microchip I2C devices"
	default n
	depends on I2C_MCHP_TARGET
	help
	  Enable dual-address target mode for Microchip I2C SERCOM devices.
	  When enabled, the driver can register two target addresses and
	  route transactions based on the matched address. Both addresses
	  must be 7-bit when using dual-address mode.

config I2C_TARGET_BUFFER_MODE
	bool "Target Buffer Mode support for Microchip I2C devices"
	default n
	depends on I2C_TARGET
	help
	  This enables buffer-based callbacks for I2C target mode.
	  This allows the driver to transfer data in chunks instead of per byte,
	  using buf_write_received() and buf_read_requested() callbacks.

config I2C_MCHP_TARGET_BUFF_SIZE
	int "Microchip I2C Target buffer size"
	default 64
	depends on I2C_TARGET_BUFFER_MODE
	range 1 256
	help
	  Size of the I2C target buffer in bytes which is used by the Microchip
	  I2C driver when operating in target (slave) mode.
	  Increase this value if you expect large read/write transfers from
	  the I2C controller. Decrease it to save memory.

config I2C_MCHP_TRANSFER_TIMEOUT
	int "Microchip Transfer timeout [ms]"
	default 500
	help
	  Timeout in milliseconds used for each I2C transfer.
	  0 means that the driver should use the K_FOREVER value,
	  i.e. it should wait as long as necessary.

endif # I2C_MCHP_SERCOM
